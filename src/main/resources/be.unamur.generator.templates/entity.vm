package entity;

import com.owlike.genson.annotation.JsonCreator;
import com.owlike.genson.annotation.JsonProperty;

import runtime.BusinessObject;

import state.$util.getStringWithFirstCap($name)State;
import state.$util.getStringWithFirstCap($name)AllocatedState;

public class $name extends BusinessObject {
## ========== Generate Private Variables ==========
   //========= Representation =========
#foreach($attribute in $attributes)
  private $attribute.getType() $attribute.getName();
#end

## ================================================
## ============ Generate Constructors =============
  //========== Constructors ==========
## Base Constructor (only specific attributes)
  /**
   * Creates a new $name with a Generated ID and Default State: Allocated
   */
  @JsonCreator
  public $name($util.buildParamString($attributes, true, false)) {
    super();
    this.currentState = new $util.getDefaultStateTypeName($name)();
#foreach($attribute in $attributes)
#if(!$attribute.isAddedByDefault())
    this.$attribute.getName() = $attribute.getName();
#end
#end
  }

## Full Constructor
#set($fullConstructorParamString = "@JsonProperty(""id"") String id")
#set($paramStringWithoutId = $util.buildParamString($attributes, true, true))
#if($paramStringWithoutId.length() > 0)
    #set($fullConstructorParamString = $fullConstructorParamString + ", " + $paramStringWithoutId)
#end
  public $name($fullConstructorParamString) {
    super(id);
#foreach($attribute in $attributes)
    this.$attribute.getName() = $attribute.getName();
#end
  }

## ================================================
## =================== Getters ====================
  //============ Getters =============
#foreach($attribute in $attributes)
  public $attribute.getType() get$attribute.getNameWithFirstCap()() { return this.$attribute.getName(); }
#end

## ================================================
## =================== Setters ====================
  //============ Setters =============
#foreach($attribute in $attributes)
  public void set$attribute.getNameWithFirstCap()($attribute.getType() $attribute.getName()) { this.$attribute.getName() = $attribute.getName(); }
#end

## ================================================
## ==================== Json ======================
  //===== JSON (De)serialization =====
  public String toJsonString() { return genson.serialize(this); }
  public static $name fromJson(String json) { return genson.deserialize(json, ${name}.class); }
}